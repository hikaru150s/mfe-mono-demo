"use strict";(self.webpackChunkshell=self.webpackChunkshell||[]).push([[11],{9872:(e,t,o)=>{o.r(t),o.d(t,{default:()=>J});var a=o(6778),d=o(1334),i=o(9976);const s=new class ToDoService{constructor(){this.storeKey="toDo"}init(){const e=[{id:(0,i.v4)(),name:"Learn React",completed:!1},{id:(0,i.v4)(),name:"Learn Angular",completed:!1},{id:(0,i.v4)(),name:"Learn Vue",completed:!1}];localStorage.setItem(this.storeKey,JSON.stringify(e))}getTodos(){return JSON.parse(localStorage.getItem(this.storeKey)||"[]")}getTodo(e){return this.getTodos().find((t=>t.id===e))}addTodo(e){const t=this.getTodos();return t.push(e),localStorage.setItem(this.storeKey,JSON.stringify(t)),e}updateTodo(e){const t=this.getTodos(),o=t.findIndex((t=>t.id===e.id));return t[o]=e,localStorage.setItem(this.storeKey,JSON.stringify(t)),e}deleteTodo(e){const t=this.getTodos(),o=t.findIndex((t=>t.id===e)),[a]=t.splice(o,1);return localStorage.setItem(this.storeKey,JSON.stringify(t)),a?a.id:null}},r="toDo",n=(0,d.createEntityAdapter)(),l=(0,d.createAsyncThunk)("toDo/fetchStatus",(async(e,t)=>Promise.resolve(s.getTodos()))),c=(0,d.createAsyncThunk)("toDo/fetchOneStatus",(async(e,t)=>{const o=s.getTodo(e);return o?Promise.resolve(o):t.rejectWithValue("not found")})),u=(0,d.createAsyncThunk)("toDo/addStatus",(async(e,t)=>Promise.resolve(s.addTodo(e)))),m=(0,d.createAsyncThunk)("toDo/updateStatus",(async(e,t)=>Promise.resolve(s.updateTodo(e)))),h=(0,d.createAsyncThunk)("toDo/deleteStatus",(async(e,t)=>{const o=s.deleteTodo(e);return o?Promise.resolve(o):t.rejectWithValue("not found")})),f=n.getInitialState({loadingStatus:"not loaded",error:null}),N=(0,d.createSlice)({name:r,initialState:f,reducers:{toggle:(e,t)=>{const o=e.entities[t.payload];o&&(o.completed=!o.completed)}},extraReducers:e=>{e.addCase(l.pending,(e=>{e.loadingStatus="loading"})).addCase(l.fulfilled,((e,t)=>{n.setAll(e,t.payload),e.loadingStatus="loaded"})).addCase(l.rejected,((e,t)=>{e.loadingStatus="error",e.error=t.error.message})).addCase(c.pending,(e=>{e.loadingStatus="loading"})).addCase(c.fulfilled,((e,t)=>{e.loadingStatus="loaded",n.upsertOne(e,t.payload)})).addCase(c.rejected,((e,t)=>{e.loadingStatus="error",e.error=t.error.message||"fetch failed"})).addCase(u.pending,(e=>{e.loadingStatus="loading"})).addCase(u.fulfilled,((e,t)=>{e.loadingStatus="loaded",n.addOne(e,t.payload)})).addCase(u.rejected,((e,t)=>{e.loadingStatus="error",e.error=t.error.message||"add failed"})).addCase(m.pending,(e=>{e.loadingStatus="loading"})).addCase(m.fulfilled,((e,t)=>{e.loadingStatus="loaded",n.updateOne(e,{id:t.payload.id,changes:t.payload})})).addCase(m.rejected,((e,t)=>{e.loadingStatus="error",e.error=t.error.message||"update failed"})).addCase(h.pending,(e=>{e.loadingStatus="loading"})).addCase(h.fulfilled,((e,t)=>{e.loadingStatus="loaded",n.removeOne(e,t.payload)})).addCase(h.rejected,((e,t)=>{e.loadingStatus="error",e.error=t.error.message||"delete failed"}))}}),g=N.reducer,p=N.actions,{selectAll:b,selectEntities:S}=n.getSelectors(),v=e=>e[r],y=(0,d.createSelector)(v,b),D=((0,d.createSelector)(v,S),(0,d.configureStore)({reducer:{[r]:g},middleware:e=>e(),devTools:!0,enhancers:[]}));var j=o(6587),x=o(2388),E=o.n(x),C=o(1700),T=o.n(C),V=o(5832),k=o.n(V),A=o(764),O=o.n(A),I=o(2207),w="E:\\prj\\mfe-mono\\apps\\modules\\todolist\\src\\app\\components\\to-do-list\\to-do-list.tsx";const K=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)(y);return(0,j.useEffect)((()=>{e(l())}),[e]),(0,j.useEffect)((()=>{s.init()}),[]),(0,I.jsxDEV)("div",{className:"user-select-none",children:(0,I.jsxDEV)(T(),{children:[(0,I.jsxDEV)(T().Header,{children:"To-Do List"},void 0,!1,{fileName:w,lineNumber:63,columnNumber:9},this),(0,I.jsxDEV)(T().Body,{children:(0,I.jsxDEV)(k(),{children:t.map((o=>(0,I.jsxDEV)(k().Item,{variant:o.completed?"success":"primary",className:"d-flex gap-2",children:[(0,I.jsxDEV)(O().Check,{type:"switch",checked:o.completed,onChange:()=>function(o){const a=t.find((e=>e.id===o));a&&e(p.toggle(a.id))}(o.id),label:o.name,className:"flex-grow-1"},void 0,!1,{fileName:w,lineNumber:74,columnNumber:17},this),(0,I.jsxDEV)(E(),{onClick:()=>function(o){const a=t.find((e=>e.id===o));if(a){const t=prompt("What needs to be done?",a.name);t&&e(m({...a,name:t}))}}(o.id),children:(0,I.jsxDEV)("i",{className:"bi bi-pencil"},void 0,!1,{fileName:w,lineNumber:82,columnNumber:19},this)},void 0,!1,{fileName:w,lineNumber:81,columnNumber:17},this),(0,I.jsxDEV)(E(),{onClick:()=>{return t=o.id,void e(h(t));var t},children:(0,I.jsxDEV)("i",{className:"bi bi-trash"},void 0,!1,{fileName:w,lineNumber:85,columnNumber:19},this)},void 0,!1,{fileName:w,lineNumber:84,columnNumber:17},this)]},o.id,!0,{fileName:w,lineNumber:69,columnNumber:15},this)))},void 0,!1,{fileName:w,lineNumber:67,columnNumber:11},this)},void 0,!1,{fileName:w,lineNumber:66,columnNumber:9},this),(0,I.jsxDEV)(T().Footer,{children:(0,I.jsxDEV)(E(),{onClick:function(){const t=prompt("What needs to be done?");t&&e(u({id:(0,i.v4)(),name:t,completed:!1}))},children:[(0,I.jsxDEV)("i",{className:"bi bi-plus"},void 0,!1,{fileName:w,lineNumber:93,columnNumber:13},this),"Add new"]},void 0,!0,{fileName:w,lineNumber:92,columnNumber:11},this)},void 0,!1,{fileName:w,lineNumber:91,columnNumber:9},this)]},void 0,!0,{fileName:w,lineNumber:62,columnNumber:7},this)},void 0,!1,{fileName:w,lineNumber:61,columnNumber:5},this)};var P="E:\\prj\\mfe-mono\\apps\\modules\\todolist\\src\\app\\app.tsx";const J=function(){return(0,I.jsxDEV)(a.Provider,{store:D,children:(0,I.jsxDEV)("div",{children:(0,I.jsxDEV)(K,{},void 0,!1,{fileName:P,lineNumber:11,columnNumber:9},this)},void 0,!1,{fileName:P,lineNumber:10,columnNumber:7},this)},void 0,!1,{fileName:P,lineNumber:9,columnNumber:5},this)}}}]);