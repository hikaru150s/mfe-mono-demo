"use strict";(self.webpackChunktodolist=self.webpackChunktodolist||[]).push([[4],{3343:(e,t,o)=>{var i=o(8424),n=o(3776),r=o(7293),d=o(3259),a=o(2493);const s=new class ToDoService{constructor(){this.storeKey="toDo"}init(){const e=[{id:(0,a.v4)(),name:"Learn React",completed:!1},{id:(0,a.v4)(),name:"Learn Angular",completed:!1},{id:(0,a.v4)(),name:"Learn Vue",completed:!1}];localStorage.setItem(this.storeKey,JSON.stringify(e))}getTodos(){return JSON.parse(localStorage.getItem(this.storeKey)||"[]")}getTodo(e){return this.getTodos().find((t=>t.id===e))}addTodo(e){const t=this.getTodos();return t.push(e),localStorage.setItem(this.storeKey,JSON.stringify(t)),e}updateTodo(e){const t=this.getTodos(),o=t.findIndex((t=>t.id===e.id));return t[o]=e,localStorage.setItem(this.storeKey,JSON.stringify(t)),e}deleteTodo(e){const t=this.getTodos(),o=t.findIndex((t=>t.id===e)),[i]=t.splice(o,1);return localStorage.setItem(this.storeKey,JSON.stringify(t)),i?i.id:null}},l="toDo",c=(0,d.createEntityAdapter)(),u=(0,d.createAsyncThunk)("toDo/fetchStatus",(async(e,t)=>Promise.resolve(s.getTodos()))),m=(0,d.createAsyncThunk)("toDo/fetchOneStatus",(async(e,t)=>{const o=s.getTodo(e);return o?Promise.resolve(o):t.rejectWithValue("not found")})),N=(0,d.createAsyncThunk)("toDo/addStatus",(async(e,t)=>Promise.resolve(s.addTodo(e)))),f=(0,d.createAsyncThunk)("toDo/updateStatus",(async(e,t)=>Promise.resolve(s.updateTodo(e)))),g=(0,d.createAsyncThunk)("toDo/deleteStatus",(async(e,t)=>{const o=s.deleteTodo(e);return o?Promise.resolve(o):t.rejectWithValue("not found")})),h=c.getInitialState({loadingStatus:"not loaded",error:null}),p=(0,d.createSlice)({name:l,initialState:h,reducers:{toggle:(e,t)=>{const o=e.entities[t.payload];o&&(o.completed=!o.completed)}},extraReducers:e=>{e.addCase(u.pending,(e=>{e.loadingStatus="loading"})).addCase(u.fulfilled,((e,t)=>{c.setAll(e,t.payload),e.loadingStatus="loaded"})).addCase(u.rejected,((e,t)=>{e.loadingStatus="error",e.error=t.error.message})).addCase(m.pending,(e=>{e.loadingStatus="loading"})).addCase(m.fulfilled,((e,t)=>{e.loadingStatus="loaded",c.upsertOne(e,t.payload)})).addCase(m.rejected,((e,t)=>{e.loadingStatus="error",e.error=t.error.message||"fetch failed"})).addCase(N.pending,(e=>{e.loadingStatus="loading"})).addCase(N.fulfilled,((e,t)=>{e.loadingStatus="loaded",c.addOne(e,t.payload)})).addCase(N.rejected,((e,t)=>{e.loadingStatus="error",e.error=t.error.message||"add failed"})).addCase(f.pending,(e=>{e.loadingStatus="loading"})).addCase(f.fulfilled,((e,t)=>{e.loadingStatus="loaded",c.updateOne(e,{id:t.payload.id,changes:t.payload})})).addCase(f.rejected,((e,t)=>{e.loadingStatus="error",e.error=t.error.message||"update failed"})).addCase(g.pending,(e=>{e.loadingStatus="loading"})).addCase(g.fulfilled,((e,t)=>{e.loadingStatus="loaded",c.removeOne(e,t.payload)})).addCase(g.rejected,((e,t)=>{e.loadingStatus="error",e.error=t.error.message||"delete failed"}))}}),b=p.reducer,S=p.actions,{selectAll:v,selectEntities:y}=c.getSelectors(),E=e=>e[l],D=(0,d.createSelector)(E,v),j=((0,d.createSelector)(E,y),(0,d.configureStore)({reducer:{[l]:b},middleware:e=>e(),devTools:!0,enhancers:[]}));var x=o(1365),C=o.n(x),T=o(493),V=o.n(T),k=o(421),O=o.n(k),I=o(3521),A=o.n(I),R=o(1080),_="E:\\prj\\mfe-mono\\apps\\modules\\todolist\\src\\app\\components\\to-do-list\\to-do-list.tsx";const P=function(){const e=(0,r.useDispatch)(),t=(0,r.useSelector)(D);return(0,i.useEffect)((()=>{e(u())}),[e]),(0,i.useEffect)((()=>{s.init()}),[]),(0,R.jsxDEV)("div",{className:"user-select-none",children:(0,R.jsxDEV)(V(),{children:[(0,R.jsxDEV)(V().Header,{children:"To-Do List"},void 0,!1,{fileName:_,lineNumber:62,columnNumber:9},this),(0,R.jsxDEV)(V().Body,{children:(0,R.jsxDEV)(O(),{children:t.map((o=>(0,R.jsxDEV)(O().Item,{variant:o.completed?"success":"primary",className:"d-flex gap-2",children:[(0,R.jsxDEV)(A().Check,{type:"switch",checked:o.completed,onChange:()=>function(o){const i=t.find((e=>e.id===o));i&&e(S.toggle(i.id))}(o.id),label:o.name,className:"flex-grow-1"},void 0,!1,{fileName:_,lineNumber:73,columnNumber:17},this),(0,R.jsxDEV)(C(),{onClick:()=>function(o){const i=t.find((e=>e.id===o));if(i){const t=prompt("What needs to be done?",i.name);t&&e(f({...i,name:t}))}}(o.id),children:(0,R.jsxDEV)("i",{className:"bi bi-pencil"},void 0,!1,{fileName:_,lineNumber:81,columnNumber:19},this)},void 0,!1,{fileName:_,lineNumber:80,columnNumber:17},this),(0,R.jsxDEV)(C(),{onClick:()=>{return t=o.id,void e(g(t));var t},children:(0,R.jsxDEV)("i",{className:"bi bi-trash"},void 0,!1,{fileName:_,lineNumber:84,columnNumber:19},this)},void 0,!1,{fileName:_,lineNumber:83,columnNumber:17},this)]},o.id,!0,{fileName:_,lineNumber:68,columnNumber:15},this)))},void 0,!1,{fileName:_,lineNumber:66,columnNumber:11},this)},void 0,!1,{fileName:_,lineNumber:65,columnNumber:9},this),(0,R.jsxDEV)(V().Footer,{children:(0,R.jsxDEV)(C(),{onClick:function(){const t=prompt("What needs to be done?");t&&e(N({id:(0,a.v4)(),name:t,completed:!1}))},children:[(0,R.jsxDEV)("i",{className:"bi bi-plus"},void 0,!1,{fileName:_,lineNumber:92,columnNumber:13},this),"Add new"]},void 0,!0,{fileName:_,lineNumber:91,columnNumber:11},this)},void 0,!1,{fileName:_,lineNumber:90,columnNumber:9},this)]},void 0,!0,{fileName:_,lineNumber:61,columnNumber:7},this)},void 0,!1,{fileName:_,lineNumber:60,columnNumber:5},this)};var w="E:\\prj\\mfe-mono\\apps\\modules\\todolist\\src\\app\\app.tsx";const L=function(){return(0,R.jsxDEV)(r.Provider,{store:j,children:(0,R.jsxDEV)("div",{children:(0,R.jsxDEV)(P,{},void 0,!1,{fileName:w,lineNumber:11,columnNumber:9},this)},void 0,!1,{fileName:w,lineNumber:10,columnNumber:7},this)},void 0,!1,{fileName:w,lineNumber:9,columnNumber:5},this)};var K="E:\\prj\\mfe-mono\\apps\\modules\\todolist\\src\\bootstrap.tsx";n.createRoot(document.getElementById("root")).render((0,R.jsxDEV)(i.StrictMode,{children:(0,R.jsxDEV)(L,{},void 0,!1,{fileName:K,lineNumber:11,columnNumber:5},void 0)},void 0,!1,{fileName:K,lineNumber:10,columnNumber:3},void 0))},3776:(e,t,o)=>{var i=o(1840),n=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t.createRoot=function(e,t){n.usingClientEntryPoint=!0;try{return i.createRoot(e,t)}finally{n.usingClientEntryPoint=!1}},t.hydrateRoot=function(e,t,o){n.usingClientEntryPoint=!0;try{return i.hydrateRoot(e,t,o)}finally{n.usingClientEntryPoint=!1}}}}]);